{% extends "base.html" %}

{% block content %}
<div class="space-y-8 pb-12">
    <!-- Header Section -->
    <div class="bg-gradient-to-r from-blue-900 to-blue-700 rounded-2xl p-8 text-white shadow-xl flex flex-col md:flex-row items-center justify-between">
        <div class="text-left">
            <h1 class="text-4xl font-bold mb-2">üè• Hospital de Malanje</h1>
            <p class="text-blue-100 text-lg">Painel de Gest√£o e Controlo de Consultas</p>
        </div>
        <div class="mt-4 md:mt-0 bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20">
            <p class="text-sm text-blue-100 uppercase tracking-wider font-semibold">Hoje</p>
            <p class="text-2xl font-bold">{{ consultas_hoje }} Consultas</p>
        </div>
    </div>

    <!-- Main Stats Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-blue-500 hover:shadow-lg transition duration-300">
            <div class="flex justify-between items-start">
                <div>
                    <p class="text-gray-500 font-medium text-sm uppercase">Total Pacientes</p>
                    <h3 class="text-3xl font-bold text-blue-900 mt-1">{{ total_pacientes }}</h3>
                </div>
                <span class="bg-blue-100 p-2 rounded-lg text-blue-600">üë•</span>
            </div>
        </div>
        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-green-500 hover:shadow-lg transition duration-300">
            <div class="flex justify-between items-start">
                <div>
                    <p class="text-gray-500 font-medium text-sm uppercase">Consultas Atendidas</p>
                    <h3 class="text-3xl font-bold text-green-600 mt-1">{{ consultas_atendidas }}</h3>
                </div>
                <span class="bg-green-100 p-2 rounded-lg text-green-600">‚úÖ</span>
            </div>
        </div>
        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-cyan-500 hover:shadow-lg transition duration-300">
            <div class="flex justify-between items-start">
                <div>
                    <p class="text-gray-500 font-medium text-sm uppercase">M√©dicos Ativos</p>
                    <h3 class="text-3xl font-bold text-cyan-600 mt-1">{{ medicos_ativos }}</h3>
                </div>
                <span class="bg-cyan-100 p-2 rounded-lg text-cyan-600">üë®‚Äç‚öïÔ∏è</span>
            </div>
        </div>
        <div class="bg-white p-6 rounded-xl shadow-md border-t-4 border-yellow-500 hover:shadow-lg transition duration-300">
            <div class="flex justify-between items-start">
                <div>
                    <p class="text-gray-500 font-medium text-sm uppercase">Pendentes</p>
                    <h3 class="text-3xl font-bold text-yellow-600 mt-1">{{ consultas_pendentes }}</h3>
                </div>
                <span class="bg-yellow-100 p-2 rounded-lg text-yellow-600">‚è≥</span>
            </div>
        </div>
    </div>

    <!-- Quick Actions Section -->
    <div class="bg-blue-50 rounded-xl p-8 border-2 border-dashed border-blue-200 shadow-inner">
        <h5 class="text-xl font-bold mb-6 flex items-center text-blue-900">
            <span class="mr-2">üöÄ</span> Come√ßar Agora
        </h5>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <a href="{% url 'paciente_list' %}" class="flex items-center p-6 bg-white rounded-xl shadow-sm border border-blue-100 hover:shadow-md hover:border-blue-400 transition group">
                <div class="bg-blue-600 text-white p-3 rounded-lg mr-4 text-xl">üë•</div>
                <div>
                    <h6 class="font-bold text-gray-900 group-hover:text-blue-600 transition text-base">Gerir Pacientes</h6>
                    <p class="text-xs text-gray-500">Cadastrar, Listar e Editar</p>
                </div>
            </a>
            <div class="flex items-center p-6 bg-gray-100/50 rounded-xl border border-gray-200 opacity-60">
                <div class="bg-gray-400 text-white p-3 rounded-lg mr-4 text-xl">üë®‚Äç‚öïÔ∏è</div>
                <div>
                    <h6 class="font-bold text-gray-900 text-base">M√©dicos</h6>
                    <p class="text-xs text-gray-500">M√≥dulo em breve...</p>
                </div>
            </div>
            <div class="flex items-center p-6 bg-gray-100/50 rounded-xl border border-gray-200 opacity-60">
                <div class="bg-gray-400 text-white p-3 rounded-lg mr-4 text-xl">üìÖ</div>
                <div>
                    <h6 class="font-bold text-gray-900 text-base">Consultas</h6>
                    <p class="text-xs text-gray-500">M√≥dulo em breve...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Charts and Details -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- Chart Section -->
        <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-md">
            <div class="flex items-center justify-between mb-6 border-b pb-2">
                <h5 class="text-lg font-semibold text-gray-800">Fluxo de Consultas (Semanal)</h5>
                <span class="text-xs font-bold text-gray-400 uppercase">Dados em Tempo Real</span>
            </div>
            <div class="h-64 flex items-end justify-between space-x-2">
                {% for label in grafico_labels %}
                <div class="flex-1 flex flex-col items-center">
                    <div class="w-full bg-blue-100 rounded-t-lg relative group">
                        <div class="absolute bottom-0 left-0 right-0 bg-blue-600 rounded-t-lg transition-all duration-500" style="height: {{ forloop.counter|add:20 }}%"></div>
                        <!-- Tooltip mockup -->
                        <div class="opacity-0 group-hover:opacity-100 absolute -top-10 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-xs py-1 px-2 rounded whitespace-nowrap z-10">
                            Consultas: {{ forloop.counter|add:15 }}
                        </div>
                    </div>
                    <span class="text-xs text-gray-400 mt-2 font-medium">{{ label }}</span>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="bg-gray-900 rounded-xl p-6 text-white shadow-2xl">
            <h5 class="text-lg font-bold mb-6 flex items-center border-b border-white/10 pb-2">
                <span class="mr-2">‚ö°</span> Atalhos
            </h5>
            <div class="space-y-3">
                <a href="/admin/clientes/cliente/" class="flex items-center justify-between bg-white/5 hover:bg-white/10 p-3 rounded-lg transition group">
                    <span>Pacientes</span>
                    <span class="group-hover:translate-x-1 transition">‚Üí</span>
                </a>
                <a href="/admin/equipamentos/contador/" class="flex items-center justify-between bg-white/5 hover:bg-white/10 p-3 rounded-lg transition group">
                    <span>M√©dicos</span>
                    <span class="group-hover:translate-x-1 transition">‚Üí</span>
                </a>
                <a href="/admin/pagamentos/fatura/" class="flex items-center justify-between bg-white/5 hover:bg-white/10 p-3 rounded-lg transition group">
                    <span>Consultas</span>
                    <span class="group-hover:translate-x-1 transition">‚Üí</span>
                </a>
                <a href="/admin/pagamentos/recibo/" class="flex items-center justify-between bg-white/5 hover:bg-white/10 p-3 rounded-lg transition group">
                    <span>Relat√≥rios</span>
                    <span class="group-hover:translate-x-1 transition">‚Üí</span>
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
